<?xml version="1.0" encoding="UTF-8"?>
<document>
	<properties>
		<title>移行ガイド</title>
	</properties>
	<body>
		<section name="目次">
			<ul>
				<li><p><a href="#1.0.0">1.0.0</a></p>
					<ul>
						<li><p><a href="#依存ライブラリ">依存ライブラリ</a></p></li>
						<li><p><a href="#リソースアダプタの設定">リソースアダプタの設定</a></p></li>
						<li><p><a href="#アウトバウンド通信の設定">アウトバウンド通信の設定</a></p></li>
						<li><p><a href="#インバウンド通信の設定">インバウンド通信の設定</a></p></li>
						<li><p><a href="#S2JMS-Container">S2JMS-Container</a></p></li>
					</ul>
				</li>
			</ul>
		</section>

		<section name="1.0.0">
			<subsection name="依存ライブラリ">
				S2JMS 1.0.0 は，S2JCA 1.0.0 との組み合わせで動作します．
				 これ以前のバージョンでは動作しないのでご注意ください．
			</subsection>
			<subsection name="リソースアダプタの設定">
				<p>
					<a href="https://genericjmsra.dev.java.net/">Sun Generic Resource Adapter for JMS</a>と
					IBM WebSphere MQ (formerly known MQSeries) を組み合わせて使用するための
					ResourceAdapterDeployer実装クラスのパッケージが変更になりました．
				</p>
				<dl>
					<dt>変更前</dt>
					<dd><code>org.seasar.jca.deploy.impl.WmqResourceAdapterDeployer</code></dd>
					<dt>変更後</dt>
					<dd><code>org.seasar.jms.core.deploy.impl.WmqResourceAdapterDeployer</code></dd>
				</dl>
			</subsection>
			<subsection name="アウトバウンド通信の設定">
				<p>
					ManagedConnectionFactoryDeployerの実装クラスとしてJMS用のクラスが追加されました．
					従来のクラスはJMSを直接はサポートしなくなったため，新しいJMS用のクラスを使用するようにしてください．
				</p>
				<dl>
					<dt>変更前</dt>
					<dd><code>org.seasar.jca.deploy.impl.ManagedConnectionFactoryDeployer</code></dd>
					<dt>変更後</dt>
					<dd><code>org.seasar.jms.deploy.impl.JMSManagedConnectionFactoryDeployer</code></dd>
				</dl>
				<p>
					JMSManagedConnectionFactoryDeployerはJMSのConnectionFactoryでもあるため，
					従来個別に設定していたConnectionFactoryは不要となりました．
				</p>
			</subsection>
			<subsection name="インバウンド通信の設定">
				<p>
					MessageEndpointDeployerはActivationSpecDeployerに変更となりました．
				</p>
				<dl>
					<dt>変更前</dt>
					<dd><code>org.seasar.jca.deploy.impl.MessageEndpointDeployer</code></dd>
					<dt>変更後</dt>
					<dd><code>org.seasar.jca.deploy.impl.ActivationSpecDeployer</code></dd>
				</dl>
				<p>
					MessageEndpointFactoryの実装クラスとして，JMS用のクラスが追加されました．
					従来のクラスはJMSを直接はサポートしなくなったため，新しいJMS用のクラスを使用するようにしてください．
				</p>
				<dl>
					<dt>変更前</dt>
					<dd><code>org.seasar.jca.inbound.MessageEndpointFactoryImpl</code></dd>
					<dt>変更後</dt>
					<dd><code>org.seasar.jms.container.impl.JMSMessageEndpointFactory</code></dd>
				</dl>
			</subsection>
			<subsection name="S2JMS-Container">
				<p>
					リスナコンポーネントにメッセージのボディ (ペイロード) をバインドする<code>@JMSPayload</code>アノテーションは，
					<code>@JMSBody</code>に変更されました
					(<code>@JMSPayload</code>も残されています)．
					
				</p>
				<dl>
					<dt>変更前</dt>
					<dd><code>org.seasar.jms.container.annotation.JMSPayload</code></dd>
					<dt>変更後</dt>
					<dd><code>org.seasar.jms.container.annotation.JMSBody</code></dd>
				</dl>
			</subsection>
		</section>
	</body>
</document>
